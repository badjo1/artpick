<div class="admin-container">
  <div class="admin-header">
    <h1>Afbeeldingen Beheren</h1>
    <%= link_to "Terug naar Dashboard", admin_root_path, class: "btn btn-secondary" %>
  </div>


  <div class="admin-actions">
    <%= link_to "Nieuwe afbeelding toevoegen", new_admin_image_path, class: "btn btn-primary" %>
    <%= link_to "Bulk Upload (meerdere tegelijk)", bulk_new_admin_images_path, class: "btn btn-secondary" %>
  </div>

  <div class="images-grid">
    <% @images.each do |image| %>
      <div class="admin-image-card">
        <div class="image-preview">
          <% if image.file.attached? %>
            <%= image_tag image.file, alt: image.title %>
          <% else %>
            <div class="placeholder">Geen afbeelding</div>
          <% end %>
        </div>
        <div class="image-details">
          <h3><%= image.title %></h3>
          <p>Positie: #<%= image.position || "N/A" %></p>
          <p>Elo: <%= image.elo_score.round %></p>
          <p>Stemmen: <%= image.vote_count %></p>
        </div>
        <div class="image-actions">
          <%= link_to "Bewerken", edit_admin_image_path(image), class: "btn btn-small" %>
          <button type="button"
                  class="btn btn-small btn-danger"
                  data-action="click->modal#open"
                  data-modal-title="Verwijder Afbeelding"
                  data-modal-body="<p>Weet je zeker dat je <strong><%= image.title %></strong> wilt verwijderen?</p><p class='text-danger'>Deze actie kan niet ongedaan gemaakt worden.</p>"
                  data-modal-url="<%= admin_image_path(image) %>"
                  data-modal-method="delete">
            Verwijderen
          </button>
        </div>
      </div>
    <% end %>
  </div>
</div>
